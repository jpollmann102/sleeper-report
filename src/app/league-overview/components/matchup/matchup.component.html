<app-loading-spinner *ngIf="loading; else matchupContent"></app-loading-spinner>
<ng-template #matchupContent>
    <div class="bg-light p-2 rounded-2 table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">
                        <img [src]="getTeamImg(matchup!.teamOne)" class="rounded-2" height="50px">
                        {{ getTeamName(matchup!.teamOne) }}
                    </th>
                    <th scope="col"></th>
                    <th scope="col" colspan="2" class="text-center">Vs</th>
                    <th scope="col"></th>
                    <th scope="col" class="text-end">
                        {{ getTeamName(matchup!.teamTwo) }}
                        <img [src]="getTeamImg(matchup!.teamTwo)" class="rounded-2" height="50px">
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let playerMatchup of playerMatchups; let i=index;">
                    <td class="text-start">
                        <div class="fs-5">
                            <div class="d-flex">
                                <img [src]="getPlayerImg(playerMatchup.playerOne)" width="75px" height="50px" class="rounded-2 me-2" />
                                <div class="flex-column">
                                    <div>{{ playerMatchup.playerOne?.full_name }}&nbsp;&nbsp;<span [ngClass]="getInjuryStatusStyle(playerMatchup.playerOne?.injury_status)">{{ getInjuryStatusText(playerMatchup.playerOne?.injury_status) }}</span></div>
                                    <div class="flex-row">
                                        <img class="me-2" [src]="getPlayerTeamImg(playerMatchup.playerOne)" width="25px" class="rounded-2 me-2" />
                                        <span class="badge" [ngClass]="getPositionStyle(playerMatchup.playerOne?.position)">
                                            {{ playerMatchup.playerOne?.position }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td [ngClass]="getProjectionClass(getPlayerProjection(matchup?.teamOneStarterProjections, i), getPlayerProjection(matchup?.teamTwoStarterProjections, i))">{{ getPlayerProjection(matchup?.teamOneStarterProjections, i) | number:'1.1' }}</td>
                    <td>{{ getPlayerPoints(matchup?.teamOneStartersPoints, i) | number:'1.1' }}</td>
                    <td>{{ getPlayerPoints(matchup?.teamTwoStartersPoints, i) | number:'1.1' }}</td>
                    <td [ngClass]="getProjectionClass(getPlayerProjection(matchup?.teamTwoStarterProjections, i), getPlayerProjection(matchup?.teamOneStarterProjections, i))">{{ getPlayerProjection(matchup?.teamTwoStarterProjections, i) | number:'1.1' }}</td>
                    <td>
                        <div class="fs-5">
                            <div class="d-flex justify-content-end">
                                <div class="d-flex flex-column">
                                    <div><span [ngClass]="getInjuryStatusStyle(playerMatchup.playerTwo?.injury_status)">{{ getInjuryStatusText(playerMatchup.playerTwo?.injury_status) }}</span>&nbsp;&nbsp;{{ playerMatchup.playerTwo?.full_name }}</div>
                                    <div class="d-flex flex-row justify-content-end">
                                        <img [src]="getPlayerTeamImg(playerMatchup.playerTwo)" width="25px" class="rounded-2 me-2" />
                                        <span class="badge" [ngClass]="getPositionStyle(playerMatchup.playerTwo?.position)">
                                            {{ playerMatchup.playerTwo?.position }}
                                        </span>
                                    </div>
                                </div>
                                <div class="flex-column">
                                    <img [src]="getPlayerImg(playerMatchup.playerTwo)" width="75px" height="50px" class="rounded-2" />
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td></td>
                    <td [ngClass]="getProjectionClass(getProjectedPoints(matchup?.teamOneStarterProjections), getProjectedPoints(matchup?.teamTwoStarterProjections))">{{ getProjectedPoints(matchup?.teamOneStarterProjections) | number:'1.1' }}</td>
                    <td><b>{{ matchup?.teamOnePoints | number:'1.1' }}</b></td>
                    <td><b>{{ matchup?.teamTwoPoints | number:'1.1' }}</b></td>
                    <td [ngClass]="getProjectionClass(getProjectedPoints(matchup?.teamTwoStarterProjections), getProjectedPoints(matchup?.teamOneStarterProjections))">{{ getProjectedPoints(matchup?.teamTwoStarterProjections) | number:'1.1' }}</td>
                    <td></td>
                </tr>
            </tfoot>
        </table>
    </div>
</ng-template>